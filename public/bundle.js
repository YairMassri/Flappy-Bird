!function(n){var e={};function t(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return n[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:i})},t.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s="./src/index.js")}({"./src/entities/Bird.js":
/*!******************************!*\
  !*** ./src/entities/Bird.js ***!
  \******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar Bird = function Bird(x, y, ctx) {\n    this.X = x;\n    this.Y = y;\n    this.ctx = ctx;\n    this.velY = 0;\n    this.width = 90;\n    this.height = 64;\n    this.ticks = 0;\n    this.spriteIndex = 0;\n    this.dead = false;\n    this.sprites = [document.getElementById('bird1'), document.getElementById('bird2'), document.getElementById('bird3')];\n\n    var self = this;\n\n    window.addEventListener('keydown', function (e) {\n        if (e.keyCode === 32) {\n            self.velY = -16;\n        }\n    });\n};\n\nBird.prototype.update = function () {\n    this.ticks++;\n    if (this.ticks % 15 === 0) this.spriteIndex = (this.spriteIndex + 1) % this.sprites.length;\n\n    this.Y += this.velY;\n    this.velY += 1;\n};\n\nBird.prototype.render = function () {\n    var renderX = this.X - this.width / 2;\n    var renderY = this.Y - this.height / 2;\n\n    this.ctx.drawImage(this.sprites[this.spriteIndex], renderX, renderY);\n};\n\nexports.default = Bird;\n\n//# sourceURL=webpack:///./src/entities/Bird.js?")},"./src/entities/Environment.js":
/*!*************************************!*\
  !*** ./src/entities/Environment.js ***!
  \*************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar Environment = function Environment(c, ctx) {\n    this.c = c;\n    this.ctx = ctx;\n    this.bgPos = 0;\n    this.fgPos = 0;\n    this.bgSpeed = 2;\n    this.bgWidth = 450;\n    this.bgImg = document.getElementById('bg');\n};\nEnvironment.prototype.update = function () {\n    this.bgPos -= this.bgSpeed;\n    if (this.bgPos < -this.bgWidth) this.bgPos = 0;\n};\nEnvironment.prototype.render = function () {\n    for (var i = 0; i <= this.c.width / this.bgWidth + 1; i++) {\n        this.ctx.drawImage(this.bgImg, this.bgPos + i * this.bgWidth, 0);\n    }\n};\n\nexports.default = Environment;\n\n//# sourceURL=webpack:///./src/entities/Environment.js?")},"./src/entities/Pipe.js":
/*!******************************!*\
  !*** ./src/entities/Pipe.js ***!
  \******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nvar Pipe = function Pipe(xpos, ypos, length, speed, ctx) {\n    this.ypos = ypos;\n    this.xpos = xpos;\n    this.length = length;\n    this.ctx = ctx;\n    this.speed = speed;\n    this.width = 150;\n};\n\nPipe.prototype.update = function () {\n    this.xpos -= this.speed;\n};\n\nPipe.prototype.render = function () {\n    this.ctx.save();\n    this.ctx.fillStyle = "#000000";\n    this.ctx.fillRect(this.xpos, this.ypos, 130, this.length);\n    this.ctx.fillStyle = "#74BF2E";\n    this.ctx.fillRect(this.xpos + 5, this.ypos + 5, 120, this.length - 10);\n};\n\nexports.default = Pipe;\n\n//# sourceURL=webpack:///./src/entities/Pipe.js?')},"./src/entities/index.js":
/*!*******************************!*\
  !*** ./src/entities/index.js ***!
  \*******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _Bird = __webpack_require__(/*! ./Bird */ "./src/entities/Bird.js");\n\nObject.defineProperty(exports, \'Bird\', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Bird).default;\n  }\n});\n\nvar _Pipe = __webpack_require__(/*! ./Pipe */ "./src/entities/Pipe.js");\n\nObject.defineProperty(exports, \'Pipe\', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Pipe).default;\n  }\n});\n\nvar _Environment = __webpack_require__(/*! ./Environment */ "./src/entities/Environment.js");\n\nObject.defineProperty(exports, \'Environment\', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Environment).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//# sourceURL=webpack:///./src/entities/index.js?')},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _entities = __webpack_require__(/*! ./entities */ "./src/entities/index.js");\n\nwindow.onload = function () {\n    var c = document.getElementById(\'canvas\');\n    c.width = window.innerWidth;\n    c.height = 600;\n\n    var ctx = c.getContext(\'2d\');\n\n    var environment = new _entities.Environment(c, ctx);\n    var bird = new _entities.Bird(250, 300, ctx);\n    var pipes = [];\n\n    setInterval(function () {\n        var pipeSet = generateRandomPipes(ctx, c.width, c.height);\n        pipes.push(pipeSet.top, pipeSet.bottom);\n    }, 2000);\n\n    gameLoop();\n\n    ctx.fillStyle = "#ffffff";\n\n    /*\r\n     MAIN GAME LOOP\r\n    */\n    function gameLoop() {\n        ctx.fillRect(0, 0, c.width, c.height);\n        environment.update();\n        environment.render();\n        pipes.forEach(function (pipe, index) {\n            if (pipe.xpos + pipe.width < 0) {\n                pipes.splice(index, 1);\n            };\n            pipe.update();\n            pipe.render();\n        });\n        bird.update();\n        bird.render();\n\n        console.log("pipes ", pipes);\n\n        if (detectCollisions(bird, pipes, c)) {\n            alert("you lose!");\n            bird.dead = true;\n            window.location = \'/\';\n        }\n\n        if (!bird.dead) {\n            window.requestAnimationFrame(gameLoop);\n        }\n    }\n};\n\nfunction generateRandomPipes(ctx, canvasWidth, canvasHeight) {\n    var lengthTop = Math.round(Math.random() * 200 + 50);\n\n    var lengthBottom = canvasHeight - 300 - lengthTop;\n\n    var returnVal = {};\n    returnVal.top = new _entities.Pipe(canvasWidth, -5, lengthTop, 4, ctx);\n    returnVal.bottom = new _entities.Pipe(canvasWidth, canvasHeight + 5 - lengthBottom, lengthBottom, 4, ctx);\n    return returnVal;\n}\n\nfunction detectCollisions(bird, pipes, c) {\n\n    if (bird.Y > c.height) {\n        return true;\n    }\n\n    for (var i = 0; i < pipes.length; i++) {\n        var e = pipes[i];\n        var highPipe = e.ypos <= 0;\n        var x0 = e.xpos,\n            x1 = e.xpos + e.width;\n\n        if (highPipe) {\n            var y0 = e.ypos + e.length;\n            var alpha = bird.X;\n            var beta = bird.Y - bird.height / 2;\n            if (alpha > x0 && alpha < x1 && beta < y0) {\n                return true;\n            }\n        } else {\n            var y2 = e.ypos;\n            var a = bird.X;\n            var b = bird.Y + bird.height / 2;\n            if (a > x0 && a < x1 && b > y2) return true;\n        }\n    }\n    return false;\n}\n\n//# sourceURL=webpack:///./src/index.js?')}});